---
Date: 2025-08-10
Title: 自分のブログを新しく作り直しました
Tags: ["dairy", "javascript", "rust", "wasm"]
---

# ブログを新しくしました

てさおです。今年の夏もヤバいくらい暑いですね。

何年振りのブログ更新でしょうか...？

この度自身のブログサイトを新しく作り直すことにしました。
というのも今まで運用していたブログは`Hugo`というSSGで作成したものだったんですが、デザイン変えたいなと思ってテーマを削除したら過去の記事にも色々影響が出てしまいまして、元に戻してさらにテーマを入れ直すのがめんどくさくなってしまった結果、それならもう心機一転で作り直しちゃえということで今に至ったわけです。

理由の８割くらいは上記の通りですが、残りの2割の理由は、最近個人で開発するモノは基本的にVanilla JSで作ってみるという試みをすることにハマってまして、今回のブログもそれでやってみたくなったからです。  
「できるだけ使わない」のモチベーションなので、必要があればVanilla JS以外も全然使います。

ということで新しくなった当ブログの最初の記事はこのブログの構成について説明していきます。

## アーキテクチャ

Githubリポジトリは[こちら](https://github.com/tessai9/tesao-blog)にあります。

このブログは、２つのhtmlのみでページが構成されています。

- index.html
  - トップページ
  - ブログの記事を一覧で表示する
- article.html
  - 記事ページ
  - markdownで書かれた記事をhtmlに変換して表示する

各ページの共通点として、表示する要素はWebComponentAPIを使ってコンポーネントとして切り出したDOMを呼び出すようにしています。  
なので、記事の一覧取得やmdファイルの取得、HTMLへの変換はコンポーネントが行ってます。  
（今風のFrontend構成っぽく...笑）

記事はmarkdownで書きたいので、`articles/` に置いてます。  
markdownをそのままブラウザで表示すると記事が読みにくいので、markdown parserをwasmで用意しました。
さすがにjavascriptでParserを書くのはちょっとしんどそうだったのと、ちょっとwasmに触れてみたかったので...笑

ザックリとした構成は以上です。

## Markdown Parser

mdファイルの内容をhtmlに変換する部分は、Rustで `markdown-parser/` 配下に実装しています。  
といっても単に引数で受け取ったmarkdown文字列を[pulldown-cmark](https://github.com/pulldown-cmark/pulldown-cmark) というライブラリに渡してHTMLに変換しているだけです。  
特殊なことは何にもしてません。

現状コードはこれだけです。

```rust
use pulldown_cmark::{html, Parser};
use wasm_bindgen::prelude::*;

#[wasm_bindgen]
pub fn markdown_to_html(markdown: &str) -> String {
    let parser = Parser::new(markdown);
    let mut html_output = String::new();
    html::push_html(&mut html_output, parser);
    html_output
}
```

## これから

超シンプルな機能しかないですが、とりあえず動くモノはできました！  
今後は↓みたいなことができるようにしていきたいですね。
- 共有リンクをクリップボードにコピーできるようにしたい
- markdownにFront Matterつけられるようにしたい
  ```yaml
  ---
  Date: yyyy-mm-dd
  Title: こういうやつ
  Tag: ["kou", "iu", "yatsu"]
  ---
  ```
- 記事にタグ付けできるようにしたい
- 画像なども埋め込み表示したい
- etc...

温かい目で見守っていただければ幸いです。

「記事増えてきたらパフォーマンス大丈夫？」とか既に懸念点は浮かんでますが、てさお先生の今後にご期待ください笑
